<div class="container mt-4">
  <div class="row justify-content-center">
    <div class="col-md-9 col-lg-7">
      <div class="card shadow-sm">
        <div class="card-header bg-primary text-white text-center">
          <h2 class="h4 mb-0">NERV - Crear Nueva Orden de Envío</h2>
        </div>
        <div class="card-body p-4">
          <form (ngSubmit)="registrarOrden()" #ordenForm="ngForm">
            <div class="mb-3">
              <label for="nombreRemitente" class="form-label">Su Nombre Completo</label>
              <input type="text" id="nombreRemitente" class="form-control" name="nombreRemitente"
                    [(ngModel)]="modelo.nombreRemitente" required pattern="[a-zA-Z\s]*" #nombreRemitente="ngModel">
              <div *ngIf="nombreRemitente.invalid && (nombreRemitente.dirty || nombreRemitente.touched)" class="text-danger small mt-1">
                <div *ngIf="nombreRemitente.errors?.['required']">El nombre es requerido.</div>
                <div *ngIf="nombreRemitente.errors?.['pattern']">El nombre solo puede contener letras.</div>
              </div>
            </div>

            <h5 class="h6 mt-4 border-bottom pb-2 mb-3">Dirección del Destinatario</h5>
            <div class="row">
              <div class="col-md-6 mb-3">
                <label for="calle" class="form-label">Calle y Avenida</label>
                <input type="text" id="calle" class="form-control" name="calle"
                      [(ngModel)]="modelo.direccionEntrega.calle" required>
              </div>
              <div class="col-md-6 mb-3">
                <label for="zona" class="form-label">Zona</label>
                <input type="text" id="zona" class="form-control" name="zona"
                      [(ngModel)]="modelo.direccionEntrega.zona" required>
              </div>
              <div class="col-md-6 mb-3">
                <label for="municipio" class="form-label">Municipio</label>
                <input type="text" id="municipio" class="form-control" name="municipio"
                      [(ngModel)]="modelo.direccionEntrega.municipio" required>
              </div>
              <div class="col-md-6 mb-3">
                <label for="departamento" class="form-label">Departamento</label>
                <input type="text" id="departamento" class="form-control" name="departamento"
                      [(ngModel)]="modelo.direccionEntrega.departamento" required>
              </div>
            </div>

            <div class="mb-3">
              <label for="correo" class="form-label">Su Correo Electrónico</label>
              <input type="email" id="correo" class="form-control" name="correo"
                    [(ngModel)]="modelo.correo" required pattern="^[a-zA-Z0-9._%+-]+@(gmail|outlook)\.com$">
              <div *ngIf="ordenForm.controls['correo']?.invalid && (ordenForm.controls['correo']?.dirty || ordenForm.controls['correo']?.touched)" class="text-danger small mt-1">
                <div *ngIf="ordenForm.controls['correo']?.errors?.['required']">El correo es requerido.</div>
                <div *ngIf="ordenForm.controls['correo']?.errors?.['pattern']">Solo se permiten dominios @gmail.com o @outlook.com.</div>
              </div>
            </div>

            <div class="mb-3">
              <label for="descripcion" class="form-label">Descripción del Paquete</label>
              <textarea id="descripcion" class="form-control" name="descripcion" rows="3"
                        [(ngModel)]="modelo.descripcion" required minlength="40" maxlength="120"></textarea>
               <div *ngIf="ordenForm.controls['descripcion']?.invalid && (ordenForm.controls['descripcion']?.dirty || ordenForm.controls['descripcion']?.touched)" class="text-danger small mt-1">
                <div *ngIf="ordenForm.controls['descripcion']?.errors?.['minlength'] || ordenForm.controls['descripcion']?.errors?.['maxlength']">La descripción debe tener entre 40 y 120 caracteres.</div>
              </div>
            </div>

            <div class="d-grid pt-2">
              <button type="submit" class="btn btn-primary" [disabled]="!ordenForm.form.valid">Registrar Orden</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>